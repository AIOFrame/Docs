(function webpackUniversalModuleDefinition(a,b){if(typeof exports==="object"&&typeof module==="object"){module.exports=b()}else{if(typeof define==="function"&&define.amd){define("Barba",[],b)}else{if(typeof exports==="object"){exports.Barba=b()}else{a.Barba=b()}}}})(this,function(){return(function(a){var b={};function c(e){if(b[e]){return b[e].exports}var d=b[e]={exports:{},id:e,loaded:false};a[e].call(d.exports,d,d.exports,c);d.loaded=true;return d.exports}c.m=a;c.c=b;c.p="http://localhost:8080/dist";return c(0)})([function(c,b,d){if(typeof Promise!=="function"){window.Promise=d(1)}var a={version:"1.0.0",BaseTransition:d(4),BaseView:d(6),BaseCache:d(8),Dispatcher:d(7),HistoryManager:d(9),Pjax:d(10),Prefetch:d(13),Utils:d(5)};c.exports=a},function(b,a,c){(function(d){(function(o){var e=setTimeout;function r(){}var f=(typeof d==="function"&&d)||function(t){e(t,0)};var h=function h(t){if(typeof console!=="undefined"&&console){console.warn("Possible Unhandled Promise Rejection:",t)}};function m(u,t){return function(){u.apply(t,arguments)}}function n(t){if(typeof this!=="object"){throw new TypeError("Promises must be constructed via new")}if(typeof t!=="function"){throw new TypeError("not a function")}this._state=0;this._handled=false;this._value=undefined;this._deferreds=[];q(t,this)}function j(u,t){while(u._state===3){u=u._value}if(u._state===0){u._deferreds.push(t);return}u._handled=true;f(function(){var v=u._state===1?t.onFulfilled:t.onRejected;if(v===null){(u._state===1?p:s)(t.promise,u._value);return}var w;try{w=v(u._value)}catch(x){s(t.promise,x);return}p(t.promise,w)})}function p(t,v){try{if(v===t){throw new TypeError("A promise cannot be resolved with itself.")}if(v&&(typeof v==="object"||typeof v==="function")){var w=v.then;if(v instanceof n){t._state=3;t._value=v;k(t);return}else{if(typeof w==="function"){q(m(w,v),t);return}}}t._state=1;t._value=v;k(t)}catch(u){s(t,u)}}function s(t,u){t._state=2;t._value=u;k(t)}function k(u){if(u._state===2&&u._deferreds.length===0){f(function(){if(!u._handled){h(u._value)}})}for(var v=0,t=u._deferreds.length;v<t;v++){j(u,u._deferreds[v])}u._deferreds=null}function l(v,t,u){this.onFulfilled=typeof v==="function"?v:null;this.onRejected=typeof t==="function"?t:null;this.promise=u}function q(w,u){var t=false;try{w(function(x){if(t){return}t=true;p(u,x)},function(x){if(t){return}t=true;s(u,x)})}catch(v){if(t){return}t=true;s(u,v)}}n.prototype["catch"]=function(t){return this.then(null,t)};n.prototype.then=function(v,u){var t=new (this.constructor)(r);j(this,new l(v,u,t));return t};n.all=function(t){var u=Array.prototype.slice.call(t);return new n(function(z,y){if(u.length===0){return z([])}var x=u.length;function w(B,D){try{if(D&&(typeof D==="object"||typeof D==="function")){var C=D.then;if(typeof C==="function"){C.call(D,function(E){w(B,E)},y);return}}u[B]=D;if(--x===0){z(u)}}catch(A){y(A)}}for(var v=0;v<u.length;v++){w(v,u[v])}})};n.resolve=function(t){if(t&&typeof t==="object"&&t.constructor===n){return t}return new n(function(u){u(t)})};n.reject=function(t){return new n(function(v,u){u(t)})};n.race=function(t){return new n(function(x,w){for(var v=0,u=t.length;v<u;v++){t[v].then(x,w)}})};n._setImmediateFn=function i(t){f=t};n._setUnhandledRejectionFn=function g(t){h=t};if(typeof b!=="undefined"&&b.exports){b.exports=n}else{if(!o.Promise){o.Promise=n}}})(this)}.call(a,c(2).setImmediate))},function(b,a,c){(function(g,h){var j=c(3).nextTick;var d=Function.prototype.apply;var i=Array.prototype.slice;var k={};var e=0;a.setTimeout=function(){return new f(d.call(setTimeout,window,arguments),clearTimeout)};a.setInterval=function(){return new f(d.call(setInterval,window,arguments),clearInterval)};a.clearTimeout=a.clearInterval=function(l){l.close()};function f(m,l){this._id=m;this._clearFn=l}f.prototype.unref=f.prototype.ref=function(){};f.prototype.close=function(){this._clearFn.call(window,this._id)};a.enroll=function(l,m){clearTimeout(l._idleTimeoutId);l._idleTimeout=m};a.unenroll=function(l){clearTimeout(l._idleTimeoutId);l._idleTimeout=-1};a._unrefActive=a.active=function(l){clearTimeout(l._idleTimeoutId);var n=l._idleTimeout;if(n>=0){l._idleTimeoutId=setTimeout(function m(){if(l._onTimeout){l._onTimeout()}},n)}};a.setImmediate=typeof g==="function"?g:function(n){var o=e++;var m=arguments.length<2?false:i.call(arguments,1);k[o]=true;j(function l(){if(k[o]){if(m){n.apply(null,m)}else{n.call(null)}a.clearImmediate(o)}});return o};a.clearImmediate=typeof h==="function"?h:function(l){delete k[l]}}.call(a,c(2).setImmediate,c(2).clearImmediate))},function(c,e){var a=c.exports={};var f;var b;(function(){try{f=setTimeout}catch(n){f=function(){throw new Error("setTimeout is not defined")}}try{b=clearTimeout}catch(n){b=function(){throw new Error("clearTimeout is not defined")}}}());var g=[];var k=false;var h;var i=-1;function j(){if(!k||!h){return}k=false;if(h.length){g=h.concat(g)}else{i=-1}if(g.length){m()}}function m(){if(k){return}var o=f(j);k=true;var n=g.length;while(n){h=g;g=[];while(++i<n){if(h){h[i].run()}}i=-1;n=g.length}h=null;k=false;b(o)}a.nextTick=function(n){var o=new Array(arguments.length-1);if(arguments.length>1){for(var p=1;p<arguments.length;p++){o[p-1]=arguments[p]}}g.push(new d(n,o));if(g.length===1&&!k){f(m,0)}};function d(n,o){this.fun=n;this.array=o}d.prototype.run=function(){this.fun.apply(null,this.array)};a.title="browser";a.browser=true;a.env={};a.argv=[];a.version="";a.versions={};function l(){}a.on=l;a.addListener=l;a.once=l;a.off=l;a.removeListener=l;a.removeAllListeners=l;a.emit=l;a.binding=function(n){throw new Error("process.binding is not supported")};a.cwd=function(){return"/"};a.chdir=function(n){throw new Error("process.chdir is not supported")};a.umask=function(){return 0}},function(b,a,e){var d=e(5);var c={oldContainer:undefined,newContainer:undefined,newContainerLoading:undefined,extend:function(f){return d.extend(this,f)},init:function(g,f){var h=this;this.oldContainer=g;this._newContainerPromise=f;this.deferred=d.deferred();this.newContainerReady=d.deferred();this.newContainerLoading=this.newContainerReady.promise;this.start();this._newContainerPromise.then(function(i){h.newContainer=i;h.newContainerReady.resolve()});return this.deferred.promise},done:function(){this.oldContainer.parentNode.removeChild(this.oldContainer);this.newContainer.style.visibility="visible";this.deferred.resolve()},start:function(){}};b.exports=c},function(b,a){var c={getCurrentUrl:function(){return window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search},cleanLink:function(d){return d.replace(/#.*/,"")},xhrTimeout:5000,xhr:function(e){var d=this.deferred();var f=new XMLHttpRequest();f.onreadystatechange=function(){if(f.readyState===4){if(f.status===200){return d.resolve(f.responseText)}else{return d.reject(new Error("xhr: HTTP code is not 200"))}}};f.ontimeout=function(){return d.reject(new Error("xhr: Timeout exceeded"))};f.open("GET",e);f.timeout=this.xhrTimeout;f.setRequestHeader("x-barba","yes");f.send();return d.promise},extend:function(f,e){var d=Object.create(f);for(var g in e){if(e.hasOwnProperty(g)){d[g]=e[g]}}return d},deferred:function(){return new function(){this.resolve=null;this.reject=null;this.promise=new Promise(function(e,d){this.resolve=e;this.reject=d}.bind(this))}},getPort:function(e){var d=typeof e!=="undefined"?e:window.location.port;var f=window.location.protocol;if(d!=""){return parseInt(d)}if(f==="http:"){return 80}if(f==="https:"){return 443}}};b.exports=c},function(d,b,f){var a=f(7);var e=f(5);var c={namespace:null,extend:function(g){return e.extend(this,g)},init:function(){var g=this;a.on("initStateChange",function(i,h){if(h&&h.namespace===g.namespace){g.onLeave()}});a.on("newPageReady",function(j,h,i){g.container=i;if(j.namespace===g.namespace){g.onEnter()}});a.on("transitionCompleted",function(i,h){if(i.namespace===g.namespace){g.onEnterCompleted()}if(h&&h.namespace===g.namespace){g.onLeaveCompleted()}})},onEnter:function(){},onEnterCompleted:function(){},onLeave:function(){},onLeaveCompleted:function(){}};d.exports=c},function(c,b){var a={events:{},on:function(g,d){this.events[g]=this.events[g]||[];this.events[g].push(d)},off:function(g,d){if(g in this.events===false){return}this.events[g].splice(this.events[g].indexOf(d),1)},trigger:function(f){if(f in this.events===false){return}for(var d=0;d<this.events[f].length;d++){this.events[f][d].apply(this,Array.prototype.slice.call(arguments,1))}}};c.exports=a},function(b,a,d){var c=d(5);var e={data:{},extend:function(f){return c.extend(this,f)},set:function(f,g){this.data[f]=g},get:function(f){return this.data[f]},reset:function(){this.data={}}};b.exports=e},function(c,a){var b={history:[],add:function(d,e){if(!e){e=undefined}this.history.push({url:d,namespace:e})},currentStatus:function(){return this.history[this.history.length-1]},prevStatus:function(){var d=this.history;if(d.length<2){return null}return d[d.length-2]}};c.exports=b},function(b,d,a){var g=a(5);var h=a(7);var j=a(11);var f=a(8);var i=a(9);var e=a(12);var c={Dom:e,History:i,Cache:f,cacheEnabled:true,transitionProgress:false,ignoreClassLink:"no-barba",start:function(){this.init()},init:function(){var k=this.Dom.getContainer();var l=this.Dom.getWrapper();l.setAttribute("aria-live","polite");this.History.add(this.getCurrentUrl(),this.Dom.getNamespace(k));h.trigger("initStateChange",this.History.currentStatus());h.trigger("newPageReady",this.History.currentStatus(),{},k,this.Dom.currentHTML);h.trigger("transitionCompleted",this.History.currentStatus());this.bindEvents()},bindEvents:function(){document.addEventListener("click",this.onLinkClick.bind(this));window.addEventListener("popstate",this.onStateChange.bind(this))},getCurrentUrl:function(){return g.cleanLink(g.getCurrentUrl())},goTo:function(k){window.history.pushState(null,null,k);this.onStateChange()},forceGoTo:function(k){window.location=k},load:function(l){var k=g.deferred();var n=this;var m;m=this.Cache.get(l);if(!m){m=g.xhr(l);this.Cache.set(l,m)}m.then(function(p){var o=n.Dom.parseResponse(p);n.Dom.putContainer(o);if(!n.cacheEnabled){n.Cache.reset()}k.resolve(o)},function(){n.forceGoTo(l);k.reject()});return k.promise},getHref:function(k){if(!k){return undefined}if(k.getAttribute&&typeof k.getAttribute("xlink:href")==="string"){return k.getAttribute("xlink:href")}if(typeof k.href==="string"){return k.href}return undefined},onLinkClick:function(k){var m=k.target;while(m&&!this.getHref(m)){m=m.parentNode}if(this.preventCheck(k,m)){k.stopPropagation();k.preventDefault();h.trigger("linkClicked",m,k);var l=this.getHref(m);this.goTo(l)}},preventCheck:function(k,m){if(!window.history.pushState){return false}var l=this.getHref(m);if(!m||!l){return false}if(k.which>1||k.metaKey||k.ctrlKey||k.shiftKey||k.altKey){return false}if(m.target&&m.target==="_blank"){return false}if(window.location.protocol!==m.protocol||window.location.hostname!==m.hostname){return false}if(g.getPort()!==g.getPort(m.port)){return false}if(l.indexOf("#")>-1){return false}if(m.getAttribute&&typeof m.getAttribute("download")==="string"){return false}if(g.cleanLink(l)==g.cleanLink(location.href)){return false}if(m.classList.contains(this.ignoreClassLink)){return false}return true},getTransition:function(){return j},onStateChange:function(){var m=this.getCurrentUrl();if(this.transitionProgress){this.forceGoTo(m)}if(this.History.currentStatus().url===m){return false}this.History.add(m);var l=this.load(m);var n=Object.create(this.getTransition());this.transitionProgress=true;h.trigger("initStateChange",this.History.currentStatus(),this.History.prevStatus());var k=n.init(this.Dom.getContainer(),l);l.then(this.onNewContainerLoaded.bind(this));k.then(this.onTransitionEnd.bind(this))},onNewContainerLoaded:function(l){var k=this.History.currentStatus();k.namespace=this.Dom.getNamespace(l);h.trigger("newPageReady",this.History.currentStatus(),this.History.prevStatus(),l,this.Dom.currentHTML)},onTransitionEnd:function(){this.transitionProgress=false;h.trigger("transitionCompleted",this.History.currentStatus(),this.History.prevStatus())}};b.exports=c},function(c,b,e){var d=e(4);var a=d.extend({start:function(){this.newContainerLoading.then(this.finish.bind(this))},finish:function(){document.body.scrollTop=0;this.done()}});c.exports=a},function(b,a){var c={dataNamespace:"namespace",wrapperId:"barba-wrapper",containerClass:"barba-container",currentHTML:document.documentElement.innerHTML,parseResponse:function(e){this.currentHTML=e;var f=document.createElement("div");f.innerHTML=e;var d=f.querySelector("title");if(d){document.title=d.textContent}return this.getContainer(f)},getWrapper:function(){var d=document.getElementById(this.wrapperId);if(!d){throw new Error("Barba.js: wrapper not found!")}return d},getContainer:function(e){if(!e){e=document.body}if(!e){throw new Error("Barba.js: DOM not ready!")}var d=this.parseContainer(e);if(d&&d.jquery){d=d[0]}if(!d){throw new Error("Barba.js: no container found")}return d},getNamespace:function(d){if(d&&d.dataset){return d.dataset[this.dataNamespace]}else{if(d){return d.getAttribute("data-"+this.dataNamespace)}}return null},putContainer:function(d){d.style.visibility="hidden";var e=this.getWrapper();e.appendChild(d)},parseContainer:function(d){return d.querySelector("."+this.containerClass)}};b.exports=c},function(c,a,e){var d=e(5);var b=e(10);var f={ignoreClassLink:"no-barba-prefetch",init:function(){if(!window.history.pushState){return false}document.body.addEventListener("mouseover",this.onLinkEnter.bind(this));document.body.addEventListener("touchstart",this.onLinkEnter.bind(this))},onLinkEnter:function(g){var i=g.target;while(i&&!b.getHref(i)){i=i.parentNode}if(!i||i.classList.contains(this.ignoreClassLink)){return}var h=b.getHref(i);if(b.preventCheck(g,i)&&!b.Cache.get(h)){var j=d.xhr(h);b.Cache.set(h,j)}}};c.exports=f}])});